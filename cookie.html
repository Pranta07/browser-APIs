<!DOCTYPE html>
<html>
    <head>
        <script>
            function setCookie(cname, cvalue, exdays) {
                const d = new Date();
                d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
                let expires = "expires=" + d.toGMTString();
                document.cookie = `${cname}=${cvalue};${expires};path=/`;
            }

            function getCookie(cname) {
                let name = cname + "=";
                let decodedCookie = decodeURIComponent(document.cookie);
                let ca = decodedCookie
                    .split("; ")
                    .find((c) => c.includes(cname));
                if (ca) {
                    const user = ca.split("=")[1];
                    return user;
                }
                return "";
            }

            function checkCookie() {
                let user = getCookie("username");
                if (user != "") {
                    alert("Welcome again " + user);
                } else {
                    user = prompt("Please enter your name:", "");
                    if (user) {
                        setCookie("username", user, 30);
                    }
                }
            }
        </script>
    </head>

    <body onload="checkCookie()"></body>
</html>
